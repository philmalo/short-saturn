---
import Link from './Link.astro';
import { getLangFromUrl, useTranslations, useTranslatedPath } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

interface LinkProps {
    id?: string;
    href?: string;
    dataset?: string;
    label?: string;
}

interface Props {
    links: LinkProps[];
}

const { links }: Props = Astro.props;
---

{links.map(link =>(
    <Link
    id={link.id}
    href={translatePath(link.href)}
    dataset={link.dataset}
    label={t(link.label)}
    />
))}